# Server
server.port=8080
spring.application.name=gateway-service

# Redis
spring.data.redis.host=localhost
spring.data.redis.port=6379
# spring.data.redis.password=your-password (???? ?????)

# CORS (??????????)
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-origin-patterns=*
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-methods=*
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-headers=*
spring.cloud.gateway.globalcors.cors-configurations.[/**].allow-credentials=true
spring.cloud.gateway.globalcors.cors-configurations.[/**].max-age=3600

# JWT
jwt.secret=your-super-secret-jwt-key-256-bit-minimum!!
jwt.access-token-expiration=900000000
jwt.refresh-token-expiration=604800000

# Routes

# User Service (Auth)
spring.cloud.gateway.routes[0].id=user-service
spring.cloud.gateway.routes[0].uri=http://localhost:8081
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/auth/**, /api/users/{userId:\d+}/avatar

# ????????? ????????? (??? JWT)
spring.cloud.gateway.routes[0].filters[0].name=JwtAuthenticationFilter
spring.cloud.gateway.routes[0].filters[0].args.skipPaths[0]=/api/auth/register
spring.cloud.gateway.routes[0].filters[0].args.skipPaths[1]=/api/auth/login
spring.cloud.gateway.routes[0].filters[0].args.skipPaths[2]=/api/auth/refresh
spring.cloud.gateway.routes[0].filters[0].args.skipPaths[3]=/api/users/*/avatar

# Board Service
spring.cloud.gateway.routes[1].id=board-service
spring.cloud.gateway.routes[1].uri=http://localhost:8082
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/boards/**, /api/tasks/**
spring.cloud.gateway.routes[1].filters[0]=JwtAuthenticationFilter

# .NET Service 1 (??????)
#spring.cloud.gateway.routes[2].id=dotnet-service-1
#spring.cloud.gateway.routes[2].uri=http://localhost:9001
#spring.cloud.gateway.routes[2].predicates[0]=Path=/api/reports/**
#spring.cloud.gateway.routes[2].filters[0]=JwtAuthenticationFilter

# Default Filters
spring.cloud.gateway.default-filters[0]=DedupeResponseHeader=Access-Control-Allow-Credentials Access-Control-Allow-Origin

# Logging
logging.level.com.example.gateway=DEBUG
logging.level.org.springframework.cloud.gateway=DEBUG